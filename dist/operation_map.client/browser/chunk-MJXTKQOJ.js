import{c as P,f as T,g as j,i as q,j as B,k as L,v as D,y as A}from"./chunk-EKOSDMVG.js";import{a as V,b as W,c as F,d as I}from"./chunk-NZVREX32.js";import{$ as N,$b as _,La as S,Ta as r,Ua as o,Va as d,Za as b,ab as C,ec as E,fa as s,fb as y,ga as m,lb as w,mc as U,qb as f,rb as c,sb as h,ub as M,wa as l,xa as u}from"./chunk-NZE57U5H.js";var R=(()=>{let a=class a{constructor(n,t,e){this.http=n,this.router=t,this.apiService=e,this.apiUrl=V.apiUrl,this.user={firstName:"",lastName:"",email:""}}ngOnInit(){let n=F.getEmail();n&&(this.user.email=n),this.apiService.getUserByEmail(this.user.email).subscribe(t=>{this.user.firstName=t.firstName,this.user.lastName=t.lastName})}onSubmit(){var n=`${this.apiUrl}/users/email/${this.user.email}`;this.http.put(n,this.user).subscribe(t=>{confirm("User information has been Updated!")?this.router.navigate(["/users-edit"]):this.router.navigate(["/users-edit"])},t=>{console.error("There was an error!",t)})}};a.\u0275fac=function(t){return new(t||a)(u(E),u(U),u(I))},a.\u0275cmp=N({type:a,selectors:[["app-users-edit"]],standalone:!0,features:[M],decls:28,vars:6,consts:[["userForm","ngForm"],[1,"container-fluid","edit-profile"],[1,"row"],[1,"card"],[1,"card-header","card-no-border","pb-0"],[1,"card-title","mb-0"],[1,"card-options"],["href","javascript:void(0)",1,"card-options-collapse"],[1,"fe","fe-chevron-up"],["href","javascript:void(0)",1,"card-options-remove"],[1,"fe","fe-x"],[1,"card-body"],[3,"ngSubmit"],[1,"row","mb-2"],[1,"profile-title"],[1,"flex-grow-1","mb-2"],["type","email","id","email","required","","name","email","readonly","",1,"form-control",3,"ngModelChange","ngModel"],["type","text","id","firstName","required","","name","firstName",1,"form-control",3,"ngModelChange","placeholder","ngModel"],["type","text","id","lastName","required","","name","lastName",1,"form-control",3,"ngModelChange","placeholder","ngModel"],["type","password","id","password","name","password","value","password",1,"form-control"],[1,"form-footer"],["type","submit",1,"btn","btn-primary","btn-block"],[3,"icon"]],template:function(t,e){if(t&1){let p=b();r(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"h3",5),w(5,"My Profile"),o(),r(6,"div",6)(7,"a",7),d(8,"i",8),o(),r(9,"a",9),d(10,"i",10),o()()(),r(11,"div",11)(12,"form",12,0),C("ngSubmit",function(){return s(p),m(e.onSubmit())}),r(14,"div",13)(15,"div",14)(16,"div",15)(17,"input",16),h("ngModelChange",function(i){return s(p),c(e.user.email,i)||(e.user.email=i),m(i)}),o()(),r(18,"div",15)(19,"input",17),h("ngModelChange",function(i){return s(p),c(e.user.firstName,i)||(e.user.firstName=i),m(i)}),o()(),r(20,"div",15)(21,"input",18),h("ngModelChange",function(i){return s(p),c(e.user.lastName,i)||(e.user.lastName=i),m(i)}),o()(),r(22,"div",15),d(23,"input",19),o()()(),r(24,"div",20)(25,"button",21),d(26,"app-feather-icon",22),w(27," Save "),o()()()()()()()}t&2&&(l(17),f("ngModel",e.user.email),l(2),y("placeholder",e.user.firstName||"First Name"),f("ngModel",e.user.firstName),l(2),y("placeholder",e.user.lastName||"Last Name"),f("ngModel",e.user.lastName),l(5),S("icon","save"))},dependencies:[_,A,L,P,T,j,D,B,q,W]});let g=a;return g})();var $=[{path:"",children:[{path:"edit",component:R,data:{title:"Edit Profile",breadcrumb:"Edit Profile"}}]}];export{$ as User};
